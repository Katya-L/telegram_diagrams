sequenceDiagram

    actor U as Authorized user
    participant C as Client
    participant S as Server

    U ->> C: 1. Нажатие кнопки создать канал
    C ->> C: 2. Отображение формы 1
    U ->> C: 3. Ввод названия канала

    opt Необязательно
        U ->> C: 3a. Ввод описания канала
        U ->> C: 3b. Добавление фотографии канала
    end

    C ->> C: 4. Отображение формы 2
    U ->> C: 5. Выбор типа канала

    alt Выбран публичный тип

        loop Пока ссылка не будет уникальна
            U ->> C: 6. Ввод ссылки на канал
            C ->> C: 7. Валидация ссылки
            C ->> S: 8. Запрос на подтверждение уникальности ссылки
            S -->> S: 9. Проверка уникальности
            S -->> C: 10. Передача результата
            C ->> C: 11. Отображение сообщения
        end

    else Выбран частный тип
        C ->> S: 6a. Запрос на генерацию ссылки
        S -->> S: 7a. Генерация ссылки
        S -->> C: 8a. Передача результата
        C ->> C: 9a. Отображение ссылки
    end
    
    opt Необязательно
        U ->> C: 10a. Добавить подписчиков
    end

    C ->> S: 12. Запрос на создание канала
    S -->> S: 13. Сохранение канала в БД
    S -->> C: 14. Передача данных канала
    C ->> C: 15. Отображение канала
    
